'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _redux = require('redux');

var _reactRedux = require('react-redux');

var _symbol = require('commPath/symbol.js');

var PubSymbol = _interopRequireWildcard(_symbol);

var _action = require('./action.js');

var actions = _interopRequireWildcard(_action);

var _pageName = require('./pageName.js');

var _PageView = require('./PageView.jsx');

var _PageView2 = _interopRequireDefault(_PageView);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function mapStateToProps(state) {
  if (!state[PubSymbol.PAGES].hasOwnProperty(_pageName.pageName)) {
    console.log('index.js mapStateToProps: 初始化值');
    return { api: {} };
  }
  return {
    // 这里还可以加全局信息, 及其他数据
    api: state[PubSymbol.PAGES][_pageName.pageName]
  };
}

function mapDispatchToProps(dispatch) {
  return {
    actions: (0, _redux.bindActionCreators)(actions, dispatch)
  };
}

var Page = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_PageView2.default);
exports.default = Page;
module.exports = exports['default'];